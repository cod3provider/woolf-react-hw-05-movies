import{j as s,r as l,b as x,a as p,N as d,O as j}from"./index-D1fGySBH.js";import{P as g,a as h}from"./api-bBcPAEAs.js";const _="_wrap_dcdln_1",f="_img_dcdln_10",u="_overview_dcdln_15",m={wrap:_,img:f,overview:u},w=({about:e})=>{const{poster_path:i,title:t,vote_average:r,genres:a,overview:n}=e;return s.jsxs("div",{className:m.wrap,children:[s.jsx("img",{className:m.img,src:i?`${g}/${i}`:s.jsx("p",{children:"Film has no image"}),alt:"poster image"}),s.jsx("h1",{children:t}),s.jsxs("p",{children:["Score: ",r.toFixed(2)]}),s.jsxs("p",{children:["Genres: ",a.map(v=>v.name).join(", ")]}),s.jsxs("p",{className:m.overview,children:["Overview: ",n]})]})},L="_list_g15vg_1",N="_infoWrap_g15vg_8",k="_linksList_g15vg_18",o={list:L,infoWrap:N,linksList:k},D=()=>{var n;const[e,i]=l.useState(null),{movieId:t}=x(),r=p();l.useEffect(()=>{(async()=>{try{const c=await h(t);i(c)}catch(c){console.log(c)}})()},[t]);const a=((n=r.state)==null?void 0:n.from)??"/";return s.jsx(s.Fragment,{children:e&&s.jsxs("div",{className:o.infoWrap,children:[s.jsx(w,{about:e}),s.jsx("h2",{children:"Info"}),s.jsxs("ul",{className:o.list,children:[s.jsx("li",{children:s.jsx(d,{className:o.linksList,to:"cast",state:{from:a},children:"Cast"})}),s.jsx("li",{children:s.jsx(d,{className:o.linksList,to:"reviews",state:{from:a},children:"Review"})})]}),s.jsx(l.Suspense,{fallback:s.jsx("p",{children:"...Loading"}),children:s.jsx(j,{})})]})})};export{D as default};
